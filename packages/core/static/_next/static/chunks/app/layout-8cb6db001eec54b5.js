(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5897:function(e,t,r){Promise.resolve().then(r.bind(r,6563))},6563:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(7437);r(2778);var a=r(7648),s=r(9376),i=r(3448),l=r(8999),c=r(2832);let o=[{href:"/connectors",label:"Connectors"},{href:"/context",label:"Context"},{href:"/query",label:"Query"},{href:"/tools",label:"Tools"},{href:"/explorer",label:"Explorer"}];function u(e){let{children:t}=e,r=(0,s.usePathname)();return(0,n.jsxs)("html",{lang:"en",children:[(0,n.jsxs)("head",{children:[(0,n.jsx)("title",{children:"db-mcp"}),(0,n.jsx)("meta",{name:"description",content:"Database Intelligence Platform"})]}),(0,n.jsxs)("body",{className:"bg-gray-950 text-gray-100 min-h-screen",children:[(0,n.jsx)("header",{className:"border-b border-gray-800",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)(a.default,{href:"/",className:"text-xl font-bold text-white",children:"db-mcp"})}),(0,n.jsx)("nav",{className:"mt-4",children:(0,n.jsx)("div",{className:"inline-flex h-9 items-center justify-center rounded-lg bg-gray-900 p-1 text-gray-400",children:o.map(e=>{let t=r===e.href||r.startsWith(e.href+"/");return(0,n.jsx)(a.default,{href:e.href,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium transition-all",t?"bg-gray-800 text-white shadow":"text-gray-400 hover:text-gray-200"),children:e.label},e.href)})})})]})}),(0,n.jsx)("main",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,n.jsx)(l.D,{baseUrl:"/bicp",autoConnect:!0,children:(0,n.jsx)(c.v,{children:t})})})]})]})}},8999:function(e,t,r){"use strict";r.d(t,{D:function(){return l},n:function(){return c}});var n=r(7437),a=r(2265);let s=(0,a.createContext)(null),i=0;function l(e){let{children:t,baseUrl:r="/bicp",autoConnect:l=!0}=e,[c,o]=(0,a.useState)(!1),[u,d]=(0,a.useState)(!1),[f,h]=(0,a.useState)(null),[x,m]=(0,a.useState)(null),b=(0,a.useCallback)(async(e,t)=>{let n={jsonrpc:"2.0",method:e,params:t,id:++i},a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!a.ok)throw Error("HTTP error: ".concat(a.status," ").concat(a.statusText));let s=await a.json();if(s.error)throw Error("BICP error ".concat(s.error.code,": ").concat(s.error.message));return s.result},[r]),p=(0,a.useCallback)(async()=>{if(!u){d(!0),h(null);try{let e=await b("initialize",{protocolVersion:"0.1.0",clientInfo:{name:"db-mcp-ui",version:"0.1.0"},capabilities:{streaming:!0,candidateSelection:!0,semanticSearch:!0,refinement:!0}});m(e.serverInfo),o(!0)}catch(e){h(e instanceof Error?e:Error(String(e))),o(!1)}finally{d(!1)}}},[b,u]);return(0,a.useEffect)(()=>{!l||c||u||p()},[l,c,u,p]),(0,n.jsx)(s.Provider,{value:{isInitialized:c,isLoading:u,error:f,serverInfo:x,initialize:p,call:b},children:t})}function c(){let e=(0,a.useContext)(s);if(!e)throw Error("useBICP must be used within a BICPProvider");return e}},2832:function(e,t,r){"use strict";r.d(t,{d:function(){return l},v:function(){return i}});var n=r(7437),a=r(2265);let s=(0,a.createContext)(null);function i(e){let{children:t}=e,[r,i]=(0,a.useState)([]),[l,c]=(0,a.useState)(null),[o,u]=(0,a.useState)(""),[d,f]=(0,a.useState)(""),[h,x]=(0,a.useState)(!1),[m,b]=(0,a.useState)(new Set),[p,y]=(0,a.useState)(new Set),[w,j]=(0,a.useState)(280),v=(0,a.useCallback)(e=>{b(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},[]),S=(0,a.useCallback)(e=>{y(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},[]);return(0,n.jsx)(s.Provider,{value:{connections:r,setConnections:i,selectedFile:l,setSelectedFile:c,content:o,setContent:u,originalContent:d,setOriginalContent:f,isStockReadme:h,setIsStockReadme:x,expandedConnections:m,toggleConnection:v,expandedFolders:p,toggleFolder:S,treeWidth:w,setTreeWidth:j,isDirty:o!==d},children:t})}function l(){let e=(0,a.useContext)(s);if(!e)throw Error("useContextViewer must be used within a ContextViewerProvider");return e}},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var n=r(1994),a=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},2778:function(){}},function(e){e.O(0,[461,137,448,971,117,744],function(){return e(e.s=5897)}),_N_E=e.O()}]);